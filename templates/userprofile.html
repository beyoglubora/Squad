<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Profile</title>
    <style>
    button {
    color: darkorange;
    border: 1px solid darkorange;
    border-radius: 4px;
    background-color:transparent;
    }
    button:hover{
        text-decoration: underline;
    }
    ul.class-list{
    margin-bottom: 0;
    padding: 0;
    }
    li.class-list-item{
    padding: 0;
    border: 0;
    margin-bottom: 1px;
    margin-left: -3%;
    }
    .class-container{
    margin-top:10px;
    margin-left: 50px;
    height: 10%;
    width: 40%;
    border-radius: 20px;
}
    .class-container:hover{
        border-radius: 5px;
        border:3px solid darkorange;
    }
    #profile-photo{
        border-radius: 50%;
        height: 300px;
        width: 300px;
        margin-left: 30px;
    }
    .title-container{
    margin-top: 15px;
    background-color: white;
    border-radius: 20px;
    border:3px solid darkorange;
}
    </style>
</head>
<script>
    function redirectToClass(class_id) {
    window.location.href = "/groups/class/" + class_id;
}
</script>
<body>
{% include 'navbar.html' %}
{% if messages %}
        <script>
            {% for msg in messages %}
                alert('{{ msg.message }}');
            {% endfor %}
        </script>
{% endif %}
<div style="position: absolute; height: 5px; width: 100%; background-color: darkorange; margin-top: 125px;">
    <h1 id="class-and-groups" style="position: absolute; color:darkorange; margin-left: 350px; margin-top: -90px">{{ fname }} {{ lname }}'s profile</h1>
</div>
<div style="position: absolute;margin-top: 150px;margin-left: 300px;width: 1000px">
    <div style="height: auto;width: 100%; background-color: transparent; margin-left: 50px">
    <div style="float: left; width: 50%;"><h3 style="color:darkorange;">Personal information</h3></div>
    {% if same_one %}
        <div style="float: left; width: 50%;">
        <button onclick="location.href='{% url 'profedit' %}'" style="border: 1px solid darkorange; border-radius: 4px">EDIT</button>
        </div>
    {% endif %}
    </div>
    <div style="height: auto;width: 100%; background-color: transparent; margin-left: 50px">
        {% load static %}
        <div>
            {% if photo %}
                <img id="profile-photo" src="{{ photo.url }}">
            {% else %}
                <img id ="profile-photo" src="../media/default.jpg">
            {% endif %}

        </div>
        <br>
        <div style="margin-top:-280px"><p>First Name:&nbsp;{{ fname }}&nbsp;&nbsp;Last Name:&nbsp;{{ lname }}</p></div>
        <div><p>Email:{{ email }}</p></div>
    </div>
    <div style="height: auto;width: 100%; background-color: transparent; margin-left: 50px">
        {% if is_instructor %}
            {% if same_one %}
                <div><a style="color: darkorange;font-size: large">Your are instructor of the following classes</a></div>
                {% if not instruct_null %}
                    {% for ic in incins %}
                    <div>{{ ic.class_name }}</div>
                    {% endfor %}
                {% else %}
                    <div>Currently you have no class to instruct</div>
                {% endif %}
            {% else %}
                <div><a style="color: darkorange;font-size: large">This user is instructor of the following classes</a></div>
                {% if not instruct_null %}
                    {% for ic in incins %}
                    <div>{{ ic.class_name }}</div>
                    {% endfor %}
                {% else %}
                    <div>Currently This user have no class to instruct</div>
                {% endif %}
            {% endif %}
        {% endif %}
    </div>
    <div style="height: auto;width: 100%; background-color: transparent; margin-left: 50px">
        <h3 style="color:darkorange;">Enrolled classes</h3>
    <ul class="class-list">
        {% for key, tuples in aggregator.items %}
        <li class="class-list-item" style="list-style-type: none">
        <div class="class-container" onclick="redirectToClass('{{ tuples.2 }}')">
            <div><a style="color: darkorange;">{{ key }}</a></div>
            <div><a style="margin-left: 5px">{{ tuples.0 }}</a></div>
            {% for value in tuples.1 %}
                <div><a style="margin-left: 5px">Skills:{{ value }}</a></div>
            {% endfor %}
        </div>
        </li>
        {% endfor %}
    </ul>
    </div>
</div>
</body>
</html>